<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataTable</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <!-- DataTables CSS -->
    <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <!-- DataTables Buttons CSS -->
    <link href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.bootstrap5.min.css" rel="stylesheet" />
    <style>
        #example_filter label{
            width: 100%;
            text-align: end;
        }
        #example_length label{
            width: 100%;
            text-align: start;
        }
        .dt-buttons .btn {
            font-size: 11px;
            background: #bdbdbdbf;
            border-color: #cdcdcd;
            color: #333;
            padding: 5px 20px;
        }

        .dt-buttons .btn:hover {
            font-size: 11px;
            background: #807e7ebf;
            border-color: #807e7ebf;
            color: #000;
        }
        .sorting_disabled::after,
        .sorting_disabled::before{
            content: '' !important;
            display: none !important;
        }
        .sorting_disabled.select-checkbox,
        .select-checkbox{
            width: 20px;
            padding: 10px !important;
            vertical-align: middle;
            text-align: center;
            height: 20px;
        }
    </style>
</head>

<body>
    <div class="container mt-5">
        <h2 class="mb-4">DataTable</h2>
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th><input type="checkbox" id="check-all"></th>
                    <th>Name</th>
                    <th>Position</th>
                    <th>Office</th>
                    <th>Age</th>
                    <th>Start date</th>
                    <th>Salary</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Tiger Nixon</td>
                  <td>System Architect</td>
                  <td>Edinburgh</td>
                  <td>61</td>
                  <td>2011/04/25</td>
                  <td>$320,800</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Garrett Winters</td>
                  <td>Accountant</td>
                  <td>Tokyo</td>
                  <td>63</td>
                  <td>2011/07/25</td>
                  <td>$170,750</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Ashton Cox</td>
                  <td>Junior Technical Author</td>
                  <td>San Francisco</td>
                  <td>66</td>
                  <td>2009/01/12</td>
                  <td>$86,000</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Cedric Kelly</td>
                  <td>Senior Javascript Developer</td>
                  <td>Edinburgh</td>
                  <td>22</td>
                  <td>2012/03/29</td>
                  <td>$433,060</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Airi Satou</td>
                  <td>Account Manager</td>
                  <td>Tokyo</td>
                  <td>33</td>
                  <td>2008/11/28</td>
                  <td>$162,700</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Brielle Williamson</td>
                  <td>Integration Specialist</td>
                  <td>New York</td>
                  <td>61</td>
                  <td>2012/12/02</td>
                  <td>$372,000</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Herrod Chandler</td>
                  <td>Sales Assistant</td>
                  <td>San Francisco</td>
                  <td>59</td>
                  <td>2012/08/06</td>
                  <td>$137,500</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Rhona Davidson</td>
                  <td>Integration Specialist</td>
                  <td>Tokyo</td>
                  <td>55</td>
                  <td>2010/10/14</td>
                  <td>$327,900</td>
              </tr>
              <tr>
                  <td><input type="checkbox" class="row-checkbox"></td>
                  <td>Colleen Hurst</td>
                  <td>Javascript Developer</td>
                  <td>San Francisco</td>
                  <td>39</td>
                  <td>2009/09/15</td>
                  <td>$205,500</td>
              </tr>
          </tbody>
      </table>
  </div>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <!-- Bootstrap 5 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
  <!-- DataTables JS -->
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
  <!-- DataTables Buttons JS -->
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.bootstrap5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.colVis.min.js"></script>
  <script>
      $(document).ready(function () {

        var table = $('#example').DataTable({
            dom: "<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6 mt-2'f>>" +
            "<'row my-2'<'col-sm-12 col-md-12'B>>" +
            "<'row'<'col-sm-12'tr>>" +
            "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
            buttons: [
            {
                extend: 'copy',
                text: 'Copy'
            },
            {
                extend: 'csv',
                text: 'CSV'
            },
            {
                extend: 'excel',
                text: 'Excel'
            },
            {
                extend: 'print',
                text: 'Print'
            },
            {
                extend: 'pdf',
                text: 'PDF'
            },
            {
                extend: 'colvis',
                text: 'Columns Visible',
            },
            {
                text: 'Select All',
                action: function () {
                    $(':checkbox.row-checkbox').prop('checked', true);
                    $(':checkbox#check-all').prop('checked', true);
                    updateButtonStates();
                },
            },
            {
                text: 'Deselect All',
                action: function () {
                    $(':checkbox.row-checkbox').prop('checked', false);
                    $(':checkbox#check-all').prop('checked', false);
                    updateButtonStates();
                },
                attr: {
                    id: 'deselect-all',
                    disabled: true
                }
            },
            {
                text: 'Delete Selected',
                action: function () {
                    table.rows($(':checkbox.row-checkbox:checked').closest('tr')).remove().draw();
                    updateButtonStates();
                },
                attr: {
                    id: 'delete-selected',
                    disabled: true
                }
            }
            ],
            lengthMenu: [
                [5, 10, 50, 75, 100, -1],
                [5, 10, 50, 75, 100, 'All'],
                ],
            columnDefs: [{
                orderable: false,
                className: 'select-checkbox',
                targets: 0
            },
            {
                orderable: false,
                searchable: false,
                targets: -1
            }],
            select: {
                style:    'multi+shift',
                selector: 'td:first-child'
            },
            infoCallback: function (settings, start, end, max, total, pre) {
                var selectedCount = $(':checkbox.row-checkbox:checked').length;
                var infoText = 'Showing from ' + start + ' to ' + end + ' of ' + total + ' records';
                if (selectedCount > 0) {
                    infoText += ' - ' + selectedCount + ' row' + (selectedCount > 1 ? 's' : '') + ' selected';
                }
                return infoText;
            }
        });

        $('#check-all').click(function () {
            $(':checkbox.row-checkbox').prop('checked', this.checked);
            updateButtonStates();
        });

        $(document).on('change', ':checkbox.row-checkbox', function () {
            updateButtonStates();
        });

        function updateButtonStates() {
            var anyChecked = $(':checkbox.row-checkbox:checked').length > 0;
            $('#deselect-all').prop('disabled', !anyChecked);
            $('#delete-selected').prop('disabled', !anyChecked);
            table.draw(false);
        }

        updateButtonStates();
    });
</script>
</body>

</html>
